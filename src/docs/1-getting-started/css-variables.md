---
title: "CSS Variables"
headerTitle: "CSS variables in Codebase"
layout: layout.njk
prevPage: "/docs/1-getting-started/element-grid"
nextPage: "/docs/1-getting-started/improvements-since-codebase-4"
prevLink: "Element grid"
nextLink: "Improvements since Codebase 4"
---

Since version 5.2, Codebase has been using CSS variables to control everything that it previously used Sass variables for.

Capability for [CSS variables (also known as custom properties)](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties) has been implemented in [all major web browsers](https://caniuse.com/css-variables). While phone browsers have caught up (except Opera Mini) in the last year or two, most laptop/desktop browsers have had it since 2015 (some 2014). Internet Explorer never had CSS variables – and since IE is consigned to history (even Microsoft stopped supporting it in May 2022), [Codebase 5 has never supported IE]({{ '/docs/1-getting-started/improvements-since-codebase-4/#internet-explorer-11-is-not-supported' | url }}) anyway. It’s past [time to switch to CSS variables](https://www.smashingmagazine.com/2017/04/start-using-css-custom-properties/).

Codebase itself still uses the [sass package from NPM.JS](https://www.npmjs.com/package/sass) for 
Sass (nesting, loops, maps, if-logic) and CSS minification.

Until Codebase v.5.2, the [default variables](https://github.com/codebase-frontend-library/codebase-5/blob/main/src/codebase/scss/00_setup/_default-variables.scss) file was full of [Sass variables](https://sass-lang.com/documentation/variables) that controlled the entire look and feel of Codebase. Editing (or overriding) these variables could only be done using a Sass preprocessor. But now, all interpotated Sass variables have been refactored as CSS variables, while the toggle variables that were used to control true/false `@if {} @else {}` logic are still Sass variables.

In Codebase, CSS variables are either “hard coded” or generated via [Sass maps](https://sass-lang.com/documentation/values/maps) that are used by `@each` [Sass loops](https://sass-lang.com/documentation/at-rules/control/for). But by the time they get into the CSS, they are all simply CSS variables. And they are all in the `:root {}` selector.

## The Codebase `:root {}`

There’s only one a massive `:root {}` selector in codebase, originating in the [default variables]({{ 'https://github.com/codebase-frontend-library/codebase-5/blob/main/src/codebase/scss/00_setup/_default-variables.scss' | url}}) file. In summary, it has CSS variables for setting all of the following:

1. Font stacks
2. UI colors (base and hover state colors for <label class="label label-warning">warning</label>, <label class="label label-danger">danger</label>, <label class="label label-success">success</label>, <label class="label label-info">info</label>, <label class="label label-primary">primary</label>, <label class="label label-secondary">secondary</label>, and <label class="label label-tertiary">tertiary</label>), generated from the Sass map `$ui-setup`
3. A color variable generator that outputs all the shade variations `-100` through `-900` of the Codebase color swatches amber <label class="label bg-amber-500 t-white">&nbsp;&nbsp;</label>, red <label class="label bg-red-500 t-white">&nbsp;&nbsp;</label>, green <label class="label bg-green-500 t-white">&nbsp;&nbsp;</label>, blue <label class="label bg-blue-500 t-white">&nbsp;&nbsp;</label>, purple <label class="label bg-purple-500 t-white">&nbsp;&nbsp;</label>, teal <label class="label bg-teal-500 t-white">&nbsp;&nbsp;</label>, and gray <label class="label bg-gray-500 t-white">&nbsp;&nbsp;</label> (**note:** the UI colors are the `-600` shades of these colors, and the hover states for buttons are the `-700` shades)
4. Base theme colors — for page background, default text color, line details (e.g. `<hr>`, form input borders, table cell borders), form input background, links (various states), default buttons, code blocks, and highlight and selection colors
5. Widths (generated by Sass map) — used in media query breakpoint widths, containers and width utilities
6. Spacing (generated by Sass map) — used in utilities for margins, paddings, and flexbox/grid gaps
7. Borders and border-radius (rounded corners)
8. Forms and buttons
9. Heading sizes (generated by Sass map)
10. Text settings — used in classless tag styles and utility classes

## How Codebase uses CSS variables

Many Codebase variables are generated from [Sass maps](https://sass-lang.com/documentation/values/maps) that are used by [Sass loops](https://sass-lang.com/documentation/at-rules/control/for) to output the variables.

Here’s a simple example of how these work. The Codebase default theme color map and shade map:

```scss
$theme-color: (
  "blue":   #1262ed,
  "green":  #128a12,
  "amber":  #f0b300,
  "red":    #cf000f,
  "purple": #9400d3,
  "teal":   #0080a2,
  "gray":   #767676,
);

$shade: (
  "100": (white, 90%),
  "200": (white, 72%),
  "300": (white, 54%),
  "400": (white, 36%),
  "500": (white, 18%),
  "600": (black, 0%),
  "700": (black, 18%),
  "800": (black, 36%),
  "900": (black, 54%)
);
```

These are used by several loops in the Sass `:root{}` to output 7 colors &times; 9 shades = 63 colour variables.

* A few of these variables are used for setting the base theme styles for page background, default text, links, table cell border color, etc.
* All of the base colors are used for generating the UI colors for buttons, badges and labels (you can decouple these).
* All of the shades of all colours are used for generating utility classes for backgrounds, text, and border color — and hover states of each. 

## How you can use and override Codebase CSS variables

All of the Codebase `:root{}` variables are available for you to use in your own CSS, and you can override any of them at any point in your document object model (DOM). For example:

```css
.hero {
  --red-500: #F00; 
  padding: var(--sp-6);
  color: white;
  background-color: var(--red-500)
}
```

Also, if you use a Sass preprocessor, you can edit any of the Sass maps in the [default variables](https://github.com/codebase-frontend-library/codebase-5/blob/main/src/codebase/scss/00_setup/_default-variables.scss) file, that are used to generate variables in the `:root{}` and elsewhere in Codebase.

In front of the Sass `:root{}` you will find the following maps:

```scss
$color: (); // see above
$shade: (); // see above

$ui-color: (); // defines the default and hover colors for “info”, “success”, “warning”, etc.
$ui-setup: (); // used to generate the UI color variables

$spacing: (); // defines the marings, paddings and flexbox/grid gaps
$spacing-setup: (); // used to generate the spacing variables

$width: (); // for max-width of containers and other block utilities
$mq-width: (); // wetting the breakpoint width tiers
```